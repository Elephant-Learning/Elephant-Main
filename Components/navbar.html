<style>
    .bold{
        font-weight:700;
    }

    #announcements{
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:center;
        position:relative;
        height:36px;
        background:var(--light-gray);
        overflow:none;
        transition-duration:500ms;
    }

    #announcements.inactive-modal{
        height:0;
    }

    #announcements > p{
        font-size:13px;
        font-weight:500;
        color:white;
        margin:0;
    }

    #announcements > button{
        position:absolute;
        right:12px;
        height:24px;
        width:24px;
        font-weight:700;
        color:gray;
        background:transparent;
        border:none;
        cursor:pointer;
    }

    #navbar{
        width:calc(100vw - 96px);
        padding:0 48px;
        height:64px;
        position:sticky;
        top:0;
        margin-bottom:-56px;
        z-index:3;
        background:var(--bg-color-1);
        /*box-shadow:0 1px 2px 0 var(--light-border-color);
        border-bottom:1px solid var(--light-border-color);*/
        box-shadow:0 1px 2px 0 var(--light-border-color);
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:space-between;
    }

    #navbar > div{
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:space-between;
    }

    #navbar-left{
        gap:12px;
    }

    #navbar-left > a > img{
        height:24px;
    }

    #navbar-left > h1{
        font-size:20px;
        font-weight:700;
        margin:0;
    }

    #navbar-right{
        gap:32px;
    }

    .navbar-modal{
        position:relative;
        display:flex;
        flex-direction:column;
        align-items:center;
    }

    .navbar-modal > div:last-of-type{
        position:absolute;
        top:76px;
        right:-48px;
        border:1px solid var(--light-border-color);
        overflow:hidden;
        border-radius:12px;
        visibility:hidden;
        opacity:0;
        transition-duration:250ms;
        transition-delay:1s;
    }

    .navbar-modal > div:first-of-type > p:hover, #navbar-right > a:hover{
        border-top:2px solid var(--primary-accent);
    }

    .navbar-modal > div:first-of-type > p{
        cursor:default;
    }

    .navbar-modal > div:first-of-type > p, #navbar-right > a{
        margin:0;
        font-size:14px;
        text-decoration:none;
        color:black;
        font-family:"Montserrat", sans-serif;
        height:62px;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:center;
        transition-duration:250ms;
        border-top:2px solid var(--bg-color-1);
        padding:0;
    }

    .navbar-modal:hover > div:last-of-type{
        visibility: visible;
        opacity:1;
        transition-delay:0s;
    }

    .navbar-modal > div:last-of-type > div:first-of-type{
        display:flex;
        padding:24px;
        gap:24px;
        flex-direction:row;
        justify-content:flex-start;
        align-items:flex-start;
        background:var(--bg-color-1);
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div{
        width:256px;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:first-of-type{
        display:flex;
        flex-direction:column;
        gap:12px;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:first-of-type > a{
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:flex-start;
        gap:12px;
        padding:12px;
        transition-duration:250ms;
        cursor:pointer;
        border-radius:6px;
        text-decoration:none;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:first-of-type > a:hover{
        background:var(--bg-color-2);
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:first-of-type > a > img{
        height:18px;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:first-of-type > a > div > h1, .navbar-modal > div:last-of-type > div:last-of-type > div > h1, .navbar-modal > div:last-of-type > div:first-of-type > div:last-of-type > h1{
        margin:0;
        font-size:14px;
        text-decoration:none;
        color:black;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:last-of-type > h1{
        font-weight:500;
        color:gray;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:last-of-type{
        display:flex;
        flex-direction:column;
        gap:6px;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:last-of-type > a{
        text-decoration:none;
        color:black;
        font-weight:700;
        font-size:14px;
    }

    .navbar-modal > div:last-of-type > div:first-of-type > div:first-of-type > a > div > p{
        font-size:13px;
        text-decoration:none;
        margin:0;
        color:gray;
    }

    .navbar-modal > div:last-of-type > div:last-of-type{
        border-top:1px solid var(--light-border-color);
        background:var(--bg-color-2);
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:space-between;
        width:536px;
        padding:24px;
    }
    .navbar-modal > div:last-of-type > div:last-of-type > div{
        display:flex;
        flex-direction:column;
        gap:6px;
    }

    .navbar-modal > div:last-of-type > div:last-of-type > div > p{
        color:gray;
        margin:0;
        font-size:13px;
    }

    .navbar-modal > div:last-of-type > div:last-of-type > a{
        padding:8px 12px;
        border-radius:6px;
        transition-duration:250ms;
    }

    .navbar-modal > div:last-of-type > div:last-of-type > a:hover{
        transform:scale(1.05);
    }

    .navbar-modal > div:last-of-type > div:last-of-type > a:active{
        transform:scale(1);
    }

    .navbar-image-button{
        position:relative;
        display:flex;
        flex-direction:column;
        align-items:center;
        cursor:default !important;
    }

    .navbar-image-button > a > img{
        height:18px;
    }

    .navbar-image-button:hover > div:first-of-type, .navbar-image-button:hover::after{
        opacity:1;
        visibility:visible;
    }

    .navbar-image-button::after{
        content:'';
        width: 0;
        height: 0;
        border-left: 6px solid transparent;
        border-right: 6px solid transparent;
        border-bottom: 6px solid var(--light-gray);
        position:absolute;
        top:53px;
        visibility:hidden;
        opacity:0;
        transition-duration:250ms;
        transition-delay:250ms;
    }

    .navbar-image-button > div:first-of-type{
        opacity:0;
        transition-delay:250ms;
        visibility:hidden;
        transition-duration:250ms;
        position:absolute;
        right:-24px;
        top:58px;
        background:var(--light-gray);
        color:white;
        font-weight:500;
        text-transform:uppercase;
        font-size:13px;
        padding:6px 12px;
        border-radius:6px;
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:center;
        text-align:center;
        white-space:nowrap;
    }

    .navbar-image-button > div:nth-of-type(2){
        position:absolute;
        top:-3px;
        right:-3px;
        width:10px;
        height:10px;
        border-radius:50%;
        background:linear-gradient(135deg, var(--primary-accent), var(--primary-accent-gradient));
    }

    #navbar-prefix{
        display:none;
    }

    .pink-image{
        filter: invert(43%) sepia(84%) saturate(879%) hue-rotate(302deg) brightness(104%) contrast(99%) !important;
    }

    .button-primary{
        border:1px solid var(--dark-gray);
        background:var(--dark-gray);
        cursor:pointer;
        transition-duration:250ms;
        font-size:14px;
        text-decoration:none;
        font-weight:500;
        color:white;
        border-radius:6px;
    }

    .button-secondary{
        border:1px solid var(--light-border-color);
        background:var(--bg-color-1);
        box-shadow:0 1px 2px 0 var(--light-border-color);
        font-size:14px;
        cursor:pointer;
        transition-duration:250ms;
        font-weight:500;
        text-decoration:none;
        color:black;
    }

    .button-tertiary{
        text-decoration:none;
        font-weight:600;
        color:black;
    }

    #cookies-modal{
        position: fixed;
        bottom:24px;
        left:24px;
        background:var(--bg-color-1);
        box-shadow:0 0 6px 0 gray;
        width:256px;
        border-radius:12px;
        display:flex;
        flex-direction:row;
        justify-content:flex-start;
        align-items:flex-start;
        z-index:5;
        gap:18px;
        transition-duration:1000ms;
        transition-property:opacity, transform;
        padding: 30px 30px 58px;
    }

    #cookies-modal.inactive-modal{
        transform:translatey(48px);
    }

    #cookies-modal > div:first-of-type > div{
        background:linear-gradient(135deg, var(--primary-accent), var(--primary-accent-gradient));
        height:28px;
        width:28px;
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:center;
        border-radius:50%;
    }

    #cookies-modal > div:first-of-type > div > img{
        width:18px;
        filter:invert(1);
    }

    #cookies-modal > div:last-of-type{
        display:flex;
        flex-direction:column;
        gap:6px;
    }

    #cookies-modal > div:last-of-type > h1{
        font-size:14px;
        margin:0;
    }

    #cookies-modal > div:last-of-type > p{
        font-size:12px;
        margin:0;
        color:gray;
    }

    #cookies-modal > div:last-of-type > p > span > a{
        font-weight:600;
        color:var(--primary-accent);
    }

    #cookies-modal > button{
        position:absolute;
        bottom:30px;
        right:30px;
        height:18px;
        width:128px;
        color:white;
        font-size:10px;
        font-weight:700;
        border-radius:6px;
        border:none;
        outline:none;
        background:linear-gradient(135deg, var(--primary-accent), var(--primary-accent-gradient));
        cursor:pointer;
    }
</style>
<div id="navbar">
    <div id="navbar-left">
        <a href="../#main-container"><img src="../icons/elephant-400-400-pink-02.png" alt="Elephant - The Ultimate Student Suite"></a>
        <h1>Elephant</h1>
    </div>
    <div id="navbar-right">
        <div class="navbar-modal">
            <div>
                <p>Services</p>
            </div>
            <div>
                <div>
                    <div>
                        <a href="../services/flip">
                            <img src="../flip/icons/deck.png" alt="">
                            <div>
                                <h1>Elephant Flip</h1>
                                <p>Memorization Made Easy</p>
                            </div>
                        </a>
                        <a href="../services/ask">
                            <img src="../ask/icons/ask.png" alt="">
                            <div>
                                <h1>Elephant Ask</h1>
                                <p>Memorization Made Easy</p>
                            </div>
                        </a>
                        <a href="../services/timeline">
                            <img src="../timeline/icons/timeline.png" alt="">
                            <div>
                                <h1>Elephant Timeline</h1>
                                <p>Memorization Made Easy</p>
                            </div>
                        </a>
                    </div>
                    <div>
                        <h1>Learn More</h1>
                        <a href="https://docs.elephantsuite.net/docs/elephant-services.html">Elephant Services</a>
                        <a href="https://docs.elephantsuite.net/docs/how-to-create-flip-deck.html">Create Flip Deck</a>
                        <a href="https://docs.elephantsuite.net/docs/how-to-use-flip-deck.html">Study Flip Deck</a>
                        <a href="https://docs.elephantsuite.net/docs/asking-questions-with-elephant-ask.html">Asking Questions</a>
                        <a href="https://docs.elephantsuite.net/docs/earning-ask-points.html">Earning Ask Points</a>
                        <a href="https://docs.elephantsuite.net/docs/how-to-create-timelines.html">Creating Timelines</a>
                        <a href="https://docs.elephantsuite.net/docs/how-to-study-timelines.html">Studying Timelines</a>
                    </div>
                </div>
                <div>
                    <div>
                        <h1>Ready to Use These Services?</h1>
                        <p>Join Elephant today to gain access to all services for free!</p>
                    </div>
                    <a href="../login/?signup" class="button-secondary">Join Elephant</a>
                </div>
            </div>
        </div>
        <div class="navbar-modal">
            <div>
                <p>About Us</p>
            </div>
            <div>
                <div>
                    <div>
                        <a href="../about/mission">
                            <img src="../icons/landing/mission.png" alt="">
                            <div>
                                <h1>Our Mission</h1>
                                <p>Why we do what we do</p>
                            </div>
                        </a>
                        <a href="../about/employees">
                            <img src="../icons/landing/employees.png" alt="">
                            <div>
                                <h1>Our Employees</h1>
                                <p>Who Made This Happen</p>
                            </div>
                        </a>
                    </div>
                    <div>
                        <h1>Help Elephant</h1>
                        <a href="https://docs.elephantsuite.net/docs/elephant-careers.html">Careers</a>
                        <a href="https://docs.elephantsuite.net/docs/contribute-to-elephant.html">Contribute</a>
                    </div>
                </div>
                <div>
                    <div>
                        <h1>Want to Contribute to Elephant?</h1>
                        <p>Help students maximize their full intellectual potential!</p>
                    </div>
                    <a href="https://docs.elephantsuite.net/docs/contribute-to-elephant.html" class="button-secondary">Contribute</a>
                </div>
            </div>
        </div>
        <a href="https://docs.elephantsuite.net/">Support</a>
        <div class="navbar-image-button">
            <a href="../login/?signup" class="button-tertiary"><img src="../icons/landing/login.png" alt=""></a>
            <div id="login-link-name">Login</div>
        </div>
    </div>
</div>
<script>
    async function initializeNavbar(prefix){
        try{
            if(JSON.parse(localStorage.getItem('autoLogin'))) {
                let savedUserId = JSON.parse(localStorage.getItem('savedUserId'))
                const response = await fetch('https://elephantsuite-rearend.herokuapp.com/login/user?id=' + savedUserId, {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json',
                        'Access-Control-Allow-Origin': '*',
                        'Access-Control-Allow-Methods': 'DELETE, POST, GET, OPTIONS',
                        'Access-Control-Allow-Headers': 'Content-Type'
                    },
                    mode: 'cors'
                })

                const context = await response.json();

                console.log("Login as " + context.context.user.firstName);

                document.getElementById("login-link-name").innerHTML = "Login as " + context.context.user.firstName;
                console.log(context.context.user.firstName)
                document.getElementById("login-link-name").previousElementSibling.setAttribute("href", "https://app.elephantsuite.net");
                document.getElementById("login-link-name").parentElement.appendChild(document.createElement("div"));
            } else {
                console.log(JSON.parse(localStorage.getItem('autoLogin')))
            }
        } catch (e){
            console.log("Welcome to Elephant")
        }

        console.log("sdf")
    }

    function showAnnouncementsModal(index){
        const announcements = [
            "ðŸ“¢New Timeline Feature Released on Elephant - The Ultimate Student Suite",
        ]

        try{
            let userAnnouncements = JSON.parse(localStorage.getItem('announcementsChecked'));

            if(!userAnnouncements.includes(index)){
                document.getElementById("announcements-para").innerHTML = announcements[index];
                document.getElementById("announcements-button").addEventListener("click", function(e){
                    userAnnouncements.push(index);
                    localStorage.setItem('announcementsChecked', JSON.stringify(userAnnouncements));

                    document.getElementById("announcements").classList.add("inactive-modal");
                })

                document.getElementById("announcements").classList.remove("inactive-modal");
            }
        } catch(e){
            localStorage.setItem('announcementsChecked', JSON.stringify([]));
        }
    }

    function showCookiesModal(){
        document.getElementById("cookies-modal").classList.remove("inactive-modal");
    }

    function acceptCookies(){
        document.getElementById("cookies-modal").classList.add("inactive-modal");
        localStorage.setItem("cookiesAccepted", JSON.stringify(true));
    }

    initializeNavbar(document.getElementById('navbar-prefix').innerHTML).then(r => {
        try{
            if(!JSON.parse(localStorage.getItem("cookiesAccepted"))) showCookiesModal();
        } catch (e){
            localStorage.setItem("cookiesAccepted", JSON.stringify(false));
            showCookiesModal();
        }

        showAnnouncementsModal(0);
    });
</script>